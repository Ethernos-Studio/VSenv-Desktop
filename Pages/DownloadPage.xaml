<ui:Page x:Class="VSenvDesktop.Pages.DownloadPage"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
         Title="下载">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 标题 -->
        <TextBlock Text="下载并配置 Visual Studio Code 环境"
           Style="{StaticResource TitleTextBlockStyle}"
           Grid.ColumnSpan="3" Margin="20,20,0,0"/>

        <!-- 版本信息 -->
        <TextBlock Text="{Binding Version, StringFormat='最新 Visual Studio Code 版本：{0}'}"
                   Grid.Row="1" Grid.ColumnSpan="2"
                   Margin="20,8,0,0" FontSize="14" Opacity="0.8"/>

        <!-- 新实例名 -->
        <Label Content="新实例名：" Grid.Row="2"
               Margin="20,23,0,16" FontSize="16"/>
        <TextBox x:Name="TbInstanceName"
                 Text="{Binding InstanceName, UpdateSourceTrigger=PropertyChanged}"
                 Grid.Row="2" Grid.Column="1"
                 Margin="0,8,10,0" Height="42"/>

        <!-- 下载按钮 -->
        <Button x:Name="BtnDownload"
                Content="下载并配置实例"
                Grid.Row="2" Grid.Column="2"
                Width="160" Height="52"
                Margin="0,8,20,00"
                Click="Button_Click" RenderTransformOrigin="0.512,0.109"/>

        <!-- 进度条 -->
        <ProgressBar x:Name="PbDownload"
                     Value="{Binding Progress}" Maximum="100"
                     Grid.Row="3" Grid.ColumnSpan="3"
                     Height="4" Margin="20,8,20,0"/>

        <!-- 输出日志 -->
        <GroupBox Header="输出日志" Grid.Row="4" Grid.ColumnSpan="3"
                  Margin="20,8,20,20">
            <TextBox x:Name="TxtOutput" IsReadOnly="True"
                     FontFamily="Consolas"
                     ScrollViewer.HorizontalScrollBarVisibility="Auto"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"/>
        </GroupBox>
    </Grid>
</ui:Page>